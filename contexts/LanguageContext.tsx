"use client"

import React, { createContext, useContext, useState, useEffect, ReactNode, useMemo, useCallback } from 'react'
import { Language, loadTranslations, Translations } from '@/lib/i18n'

interface LanguageContextType {
  language: Language
  setLanguage: (language: Language) => void
  t: Translations | null
  isLoading: boolean
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined)

interface LanguageProviderProps {
  children: ReactNode
}

const FALLBACK_TRANSLATIONS: Translations = {
  nav: { 
    dashboard: 'Dashboard',
    routines: 'Rutinas', 
    exercises: 'Ejercicios', 
    history: 'Historial',
    ai: 'IA',
    profile: 'Perfil',
    signOut: 'Cerrar sesión',
    signIn: 'Iniciar sesión',
    signUp: 'Registrarse',
  },
  common: { 
    loading: 'Cargando...', 
    error: 'Error', 
    save: 'Guardar', 
    cancel: 'Cancelar', 
    delete: 'Eliminar', 
    edit: 'Editar', 
    create: 'Crear', 
    add: 'Agregar', 
    remove: 'Quitar', 
    back: 'Volver', 
    next: 'Siguiente', 
    previous: 'Anterior', 
    success: 'Éxito', 
    confirm: 'Confirmar', 
    yes: 'Sí', 
    no: 'No', 
    search: 'Buscar', 
    filter: 'Filtrar', 
    clear: 'Limpiar', 
    all: 'Todos', 
    none: 'Ninguno', 
    done: 'Hecho', 
    continue: 'Continuar', 
    start: 'Comenzar', 
    finish: 'Finalizar', 
    complete: 'Completar', 
    details: 'Detalles', 
    notes: 'Notas', 
    weight: 'Peso', 
    reps: 'Reps', 
    sets: 'Sets', 
    exercise: 'Ejercicio', 
    routine: 'Rutina', 
    duration: 'Duración', 
    progress: 'Progreso', 
    total: 'Total', 
    completed: 'Completado', 
    inProgress: 'En Progreso', 
    actions: 'Acciones', 
    of: 'de', 
    close: 'Cerrar', 
    open: 'Abrir', 
    view: 'Ver', 
    update: 'Actualizar',
    kg: 'kg',
    exit: 'Salir',
    workout: 'Entrenamiento',
    active: 'Activo',
    updated: 'Actualizado',
    linkCopied: 'Link copiado',
    linkCopiedDescription: 'El enlace se ha copiado al portapapeles',
    share: 'Compartir',
    copy: 'Copiar',
    code: 'Código',
    link: 'Enlace',
    retry: 'Reintentar',
    minutes: 'minutos',
    min: 'min',
    searching: 'Buscando',
    adding: 'Agregando',
    sharing: 'Compartiendo',
    copied: 'Copiado',
    paused: 'Pausado'
  },
  language: {
    title: 'Idioma',
    spanish: 'Español',
    english: 'English',
    changeLanguage: 'Cambiar idioma'
  },
  theme: {
    title: 'Tema',
    light: 'Claro',
    dark: 'Oscuro',
    system: 'Sistema',
    changeTheme: 'Cambiar tema'
  },
  app: {
    title: 'DallaTrack - Tu Compañero de Entrenamiento',
    description: 'Rastrea tus entrenamientos, crea rutinas y monitorea tu progreso',
    name: 'DallaTrack'
  },
  metadata: {
    publicProfile: {
      title: '{name} - Perfil Público | DallaTrack',
      description: 'Ve el perfil público de {name} en DallaTrack. Logros y estadísticas de entrenamiento.',
      defaultTitle: 'Perfil Público | DallaTrack',
      defaultDescription: 'Perfil público de usuario en DallaTrack'
    }
  },
  sharing: {
    addSharedRoutine: {
      title: 'Agregar rutina compartida',
      routineCode: 'Código de rutina',
      codePlaceholder: 'Ejemplo: ABC123',
      searchButton: 'Buscar',
      searching: 'Buscando...',
      errorSearching: 'Error al buscar rutina',
      invalidCode: 'Código no válido',
      sharedBy: 'Compartida por',
      muscleGroups: 'Grupos musculares',
      exercises: 'Ejercicios',
      addToMyRoutines: 'Agregar a mis rutinas',
      adding: 'Agregando...',
      addedSuccessfully: 'Rutina agregada exitosamente',
      errorAdding: 'Error al agregar rutina',
      enterValidCode: 'Ingresa un código válido'
    },
    shareRoutine: {
      title: 'Compartir "{routineName}"',
      setExpiration: 'Establecer fecha de expiración',
      neverExpires: 'La rutina nunca expirará',
      daysToExpire: 'Días hasta expirar',
      setMaxUses: 'Establecer límite de usos',
      unlimitedUse: 'Uso ilimitado',
      maxUses: 'Número máximo de usos',
      shareRoutineButton: 'Compartir rutina',
      sharing: 'Compartiendo...',
      routineShared: '¡Rutina compartida!',
      shareDescription: 'Comparte este código o enlace para que otros puedan agregar tu rutina',
      routineCode: 'Código de rutina',
      directLink: 'Enlace directo',
      qrCode: 'Código QR',
      expiresIn: 'Expira en {days} días',
      noExpiration: 'Sin fecha de expiración',
      maxUsesLimit: 'Máximo {uses} usos',
      unlimitedUses: 'Usos ilimitados',
      errorSharing: 'Error al compartir rutina',
      sharedSuccessfully: 'Rutina compartida exitosamente',
      days: {
        '7': '7 días',
        '14': '14 días',
        '30': '30 días',
        '60': '60 días',
        '90': '90 días'
      },
      uses: {
        '5': '5 usos',
        '10': '10 usos',
        '25': '25 usos',
        '50': '50 usos',
        '100': '100 usos'
      }
    },
    statistics: {
      title: 'Estadísticas de Compartir',
      subtitle: 'Analiza el rendimiento de tus rutinas compartidas',
      backToRoutines: 'Volver a rutinas',
      sharedRoutines: 'Rutinas compartidas',
      totalUses: 'Usos totales',
      uniqueUsers: 'Usuarios únicos',
      thisWeek: 'Esta semana',
      usageByDays: 'Uso por días',
      usageTrend: 'Tendencia de uso de tus rutinas compartidas en los últimos 30 días',
      recentUses: 'Usos Recientes',
      recentUsesDescription: 'Últimos usos de tus rutinas compartidas',
      mySharedRoutines: 'Mis Rutinas Compartidas',
      mySharedRoutinesDescription: 'Gestiona tus rutinas compartidas y ve sus estadísticas',
      routine: 'Rutina',
      user: 'Usuario',
      date: 'Fecha',
      uses: 'Usos',
      status: 'Estado',
      active: 'Activa',
      inactive: 'Inactiva',
      statusUpdated: 'Estado actualizado',
      routineActivated: 'Rutina activada exitosamente',
      routineDeactivated: 'Rutina desactivada exitosamente',
      errorUpdatingStatus: 'Error al cambiar estado de la rutina',
      anonymousUser: 'Usuario anónimo',
      noRecentUses: 'No hay usos recientes',
      noSharedRoutines: 'No tienes rutinas compartidas',
      errorLoading: 'Error al cargar estadísticas',
      errorLoadingDescription: 'Error al cargar estadísticas',
      retryButton: 'Reintentar'
    },
    sharedRoutine: {
      title: 'Rutina Compartida',
      codeLabel: 'Código: {code}',
      sharedBy: 'Compartida por {name}',
      muscleGroups: 'Grupos musculares',
      exercisesCount: 'Ejercicios ({count})',
      addToMyRoutines: 'Agregar a mis rutinas',
      adding: 'Agregando...',
      backToRoutines: 'Volver a rutinas',
      loadingRoutine: 'Cargando rutina compartida...',
      invalidCode: 'Código de rutina no válido',
      invalidCodeDescription: 'El código que ingresaste no es válido o la rutina ya no está disponible',
      retry: 'Reintentar',
      goToMyRoutines: 'Ir a mis rutinas',
      addedSuccessfully: 'Rutina agregada exitosamente',
      errorAdding: 'Error al agregar rutina',
      sets: 'series',
      reps: 'repeticiones',
      rest: 'descanso',
      notes: 'Notas'
    }
  },
  dashboard: {
    welcome: 'Bienvenido a',
    quickActions: 'Acciones Rápidas',
    recentWorkouts: 'Entrenamientos Recientes',
    recentWorkoutsDescription: 'Tus últimas sesiones de entrenamiento',
    progressOverview: 'Resumen de Progreso',
    progressOverviewDescription: 'Tu viaje fitness de un vistazo',
    noRecentWorkouts: 'No hay entrenamientos recientes aún. Comienza a entrenar para ver tu historial aquí.',
    noProgressData: 'Comienza a rastrear tus entrenamientos para ver métricas de progreso aquí.',
    myRoutines: 'Mis Rutinas',
    thisWeek: 'Esta Semana',
    thisMonth: 'Este Mes',
    totalVolume: 'Volumen Total',
    kgLifted: 'kg levantados',
    setsCompleted: 'Sets completados',
    weeklyGoal: 'Meta semanal',
    workouts: 'entrenamientos',
    popularRoutines: 'Rutinas Populares',
    mostUsedRoutines: 'Tus rutinas más utilizadas',
    noRoutinesYet: 'No tienes rutinas aún',
    viewAllHistory: 'Ver todo el historial',
    viewAllRoutines: 'Ver todas las rutinas',
    addNewExercise: 'Agregar nuevo ejercicio',
    createNewRoutine: 'Crear nueva rutina',
    viewProgress: 'Ver Progreso',
    analyzeStats: 'Analizar estadísticas',
    times: 'veces',
    exercises: 'ejercicios',
    workout: 'Entrenamiento'
  },
  routines: {
    title: 'Rutinas',
    createRoutine: 'Crear Rutina',
    editRoutine: 'Editar Rutina',
    noRoutines: 'No hay rutinas aún',
    createFirstRoutine: 'Crea tu primera rutina',
    routineDetails: 'Detalles de la Rutina',
    exercises: 'Ejercicios',
    routineExercises: 'Ejercicios de la Rutina',
    addExerciseToRoutine: 'Agregar Ejercicio a la Rutina',
    addExercise: 'Agregar Ejercicios',
    noExercisesInRoutine: 'No hay ejercicios en esta rutina aún',
    setNumber: 'Set',
    routineCreated: 'Rutina creada',
    routineUpdated: 'Rutina actualizada',
    exerciseAdded: 'Ejercicio agregado',
    exerciseRemoved: 'Ejercicio eliminado',
    deleteRoutine: 'Eliminar Rutina',
    deleteRoutineConfirm: '¿Estás seguro de que quieres eliminar esta rutina? Esta acción no se puede deshacer.',
    noRoutinesFound: 'No se encontraron rutinas',
    noRoutinesMatch: 'No hay rutinas que coincidan con tu búsqueda.',
    searchRoutines: 'Buscar rutinas...',
    addSet: 'Agregar Set',
    removeSet: 'Eliminar Set',
    cantRemoveLastSet: 'No se puede eliminar',
    mustHaveOneSet: 'Debe haber al menos un set por ejercicio.',
    setAdded: 'Set agregado',
    setAddedDescription: 'Se agregó un nuevo set al ejercicio.',
    setRemoved: 'Set eliminado',
    setRemovedDescription: 'El set fue eliminado del ejercicio.',
    failedToAddSet: 'No se pudo agregar el set. Inténtalo de nuevo.',
    failedToRemoveSet: 'No se pudo eliminar el set. Inténtalo de nuevo.',
    failedToSaveChanges: 'No se pudieron guardar los cambios. Inténtalo de nuevo.',
    dragToReorder: 'Mantén presionado el ícono de líneas (⋮⋮) por un momento para arrastrar y reordenar los ejercicios.',
    noExercisesInRoutineYet: 'No hay ejercicios en esta rutina aún. Usa el selector de arriba para agregar ejercicios.'
  },
  exercises: {
    title: 'Ejercicios',
    createExercise: 'Crear Ejercicio',
    editExercise: 'Editar Ejercicio',
    noExercises: 'No hay ejercicios aún',
    createFirstExercise: 'Crea tu primer ejercicio',
    createNewExercise: 'Crear Nuevo Ejercicio',
    exerciseDetails: 'Detalles del Ejercicio',
    youtubeOptional: 'Enlace de YouTube (opcional)',
    defaultSets: 'Número de Sets por Defecto',
    saveChanges: 'Guardar Cambios',
    exerciseCreated: 'Ejercicio creado',
    exerciseUpdated: 'Ejercicio actualizado',
    exerciseDeleted: 'Ejercicio eliminado',
    exerciseNotFound: 'Ejercicio no encontrado',
    exerciseNotFoundDescription: 'El ejercicio que intentas editar no existe.',
    failedToLoad: 'Error al cargar datos del ejercicio.',
    failedToUpdate: 'Hubo un problema actualizando tu ejercicio.',
    failedToDelete: 'Hubo un problema eliminando el ejercicio.',
    failedToCreate: 'Hubo un problema creando tu ejercicio.',
    deleteExercise: 'Eliminar Ejercicio',
    deleteExerciseConfirm: '¿Estás seguro de que quieres eliminar este ejercicio? Esta acción no se puede deshacer.',
    noExercisesFound: 'No se encontraron ejercicios',
    noExercisesMatch: 'No hay ejercicios que coincidan con tu búsqueda.',
    searchExercises: 'Buscar ejercicios...',
    errorLoadingExercises: 'Error al cargar ejercicios',
    problemLoadingExercises: 'Hubo un problema cargando tus ejercicios.',
    defaultSetsLabel: 'Sets por defecto:',
    videoAvailable: 'Video disponible',
    setsConfigured: 'sets configurados',
    noExercisesAvailable: 'No hay ejercicios disponibles',
    needExercisesForRoutines: 'Necesitas crear ejercicios antes de poder agregarlos a una rutina.',
    exampleExercises: 'Ejercicios de Ejemplo',
    searchAndSelect: 'Busca y selecciona un ejercicio para agregarlo a la rutina',
    selectExerciseFirst: 'Selecciona un ejercicio primero',
    addToRoutine: 'Agregar a Rutina',
    willBeAddedWith: 'Se agregará con',
    defaultSetsText: 'sets por defecto',
    noExercisesFoundSearch: 'No se encontraron ejercicios'
  },
  forms: {
    title: 'Título',
    titleRequired: 'El título es requerido',
    description: 'Descripción',
    describeOptional: 'Describe el ejercicio (opcional)',
    describeRoutineOptional: 'Describe la rutina (opcional)',
    validUrl: 'Debe ser una URL válida',
    minOneSets: 'Debe tener al menos 1 set'
  },
  placeholders: {
    exerciseTitle: 'ej., Press de Banca',
    routineTitle: 'ej., Entrenamiento de Fuerza de Tren Superior',
    youtubeLink: 'https://www.youtube.com/watch?v=...'
  },
  buttons: {
    saving: 'Guardando...',
    creating: 'Creando...',
    deleting: 'Eliminando...'
  },
  errors: {
    notFound: 'No encontrado',
    notFoundDescription: 'El elemento que buscas no existe.',
    failedToLoad: 'Error al cargar datos.',
    failedToUpdate: 'Error al actualizar.',
    failedToDelete: 'Error al eliminar.',
    failedToCreate: 'Error al crear.'
  },
  auth: {
    signIn: 'Iniciar Sesión',
    signUp: 'Registrarse',
    signInDescription: 'Ingresa a tu cuenta de DallaTrack',
    signUpDescription: 'Únete a DallaTrack y comienza tu rutina',
    welcome: 'Bienvenido',
    welcomeBack: 'Bienvenido de vuelta',
    createAccount: 'Crear Cuenta',
    email: 'Correo electrónico',
    emailPlaceholder: 'tu@email.com',
    password: 'Contraseña',
    passwordPlaceholder: 'Mínimo 6 caracteres',
    confirmPassword: 'Confirmar contraseña',
    confirmPasswordPlaceholder: 'Repite tu contraseña',
    name: 'Nombre completo',
    namePlaceholder: 'Tu nombre completo',
    forgotPassword: '¿Olvidaste tu contraseña?',
    forgotPasswordTitle: '¿Olvidaste tu contraseña?',
    forgotPasswordDescription: 'Ingresa tu email y te enviaremos instrucciones para resetear tu contraseña',
    sendInstructions: 'Enviar Instrucciones',
    sending: 'Enviando...',
    backToSignIn: 'Volver al inicio de sesión',
    requestSent: 'Solicitud enviada',
    emailSent: '¡Email Enviado!',
    checkYourEmail: 'Revisa tu Email',
    emailSentDescription: 'Te hemos enviado las instrucciones para resetear tu contraseña a tu email.',
    checkEmailDescription: 'Si el email existe en nuestro sistema, recibirás instrucciones para resetear tu contraseña.',
    emailSentSuccessfully: '📧 Email enviado exitosamente',
    emailInstructions: '• Revisa tu bandeja de entrada\n• También verifica tu carpeta de spam\n• El enlace expira en 1 hora',
    developmentMode: '🚧 Modo Desarrollo',
    tokenForReset: 'Token para reset:',
    useTokenDev: 'Usar Token (Desarrollo)',
    tryAnotherEmail: 'Intentar otro email',
    resetPassword: 'Resetear Contraseña',
    resetPasswordDescription: 'Ingresa tu nueva contraseña',
    newPassword: 'Nueva Contraseña',
    confirmNewPassword: 'Confirmar Nueva Contraseña',
    confirmNewPasswordPlaceholder: 'Repite tu nueva contraseña',
    updatePassword: 'Actualizar Contraseña',
    updating: 'Actualizando...',
    invalidToken: 'Token No Válido',
    invalidTokenDescription: 'El enlace de reset de contraseña no es válido o ha expirado.',
    requestNewReset: 'Solicitar Nuevo Reset',
    passwordUpdated: '¡Contraseña Actualizada!',
    passwordUpdatedDescription: 'Tu contraseña ha sido actualizada exitosamente. Serás redirigido al inicio de sesión.',
    passwordUpdatedSuccess: 'Contraseña actualizada',
    tokenRequired: 'Token de reset requerido',
    passwordUpdateError: 'Hubo un problema actualizando la contraseña',
    requestError: 'Hubo un problema enviando la solicitud',
    rememberMe: 'Recordarme',
    alreadyHaveAccount: '¿Ya tienes una cuenta?',
    dontHaveAccount: '¿No tienes una cuenta?',
    signInHere: 'Iniciar sesión',
    signUpHere: 'Registrarse',
    signingIn: 'Iniciando sesión...',
    signingUp: 'Creando cuenta...',
    continueWithGoogle: 'Continuar con Google',
    signUpWithGoogle: 'Registrarse con Google',
    orContinueWithEmail: 'O continuar con email',
    orSignUpWithEmail: 'O registrarse con email',
    emailRequired: 'El email es requerido',
    emailInvalid: 'Email inválido',
    passwordRequired: 'La contraseña es requerida',
    passwordMinLength: 'La contraseña debe tener al menos 6 caracteres',
    passwordMismatch: 'Las contraseñas no coinciden',
    nameRequired: 'El nombre es requerido',
    signInError: 'Error al iniciar sesión',
    signUpError: 'Error al crear cuenta',
    checkCredentials: 'Verifica tus credenciales e intenta de nuevo',
    invalidCredentials: 'Email o contraseña incorrectos',
    userNotFound: 'No existe una cuenta con este email',
    incorrectPassword: 'Contraseña incorrecta',
    unexpectedError: 'Error inesperado, por favor intenta de nuevo',
    oauthError: 'Error al iniciar sesión con {provider}',
    accountExists: 'Ya existe una cuenta con este email',
    accountCreated: 'Cuenta creada',
    accountCreatedSuccess: 'Tu cuenta se ha creado exitosamente',
    redirecting: 'Redirigiendo...',
    signInSuccess: 'Sesión iniciada',
    signInSuccessMessage: 'Has iniciado sesión exitosamente',
    validatingToken: 'Validando token...'
  },
  training: {
    title: 'Entrenamiento',
    startTraining: 'Comenzar Entrenamiento',
    startedAgo: 'Iniciado hace',
    failedToLoad: 'Error al cargar rutinas',
    problemLoadingRoutines: 'Hubo un problema cargando tus rutinas.',
    failedToSave: 'Error al iniciar entrenamiento',
    problemStartingSession: 'Hubo un problema iniciando tu sesión de entrenamiento.',
    chooseRoutine: 'Elegir una Rutina',
    chooseRoutineDescription: 'Selecciona una rutina de entrenamiento para comenzar tu sesión',
    youDontHaveRoutines: 'Aún no tienes rutinas.',
    createYourFirstRoutine: 'Crea Tu Primera Rutina',
    startingSession: 'Iniciando Sesión...',
    trainingProgress: 'Progreso del Entrenamiento',
    setsCompleted: 'sets completados',
    completeWorkout: 'Completar Entrenamiento',
    finishWorkout: 'Finalizar Entrenamiento',
    workoutCompleted: '¡Entrenamiento completado!',
    workoutSaved: 'Tu sesión de entrenamiento ha sido guardada.',
    problemSavingWorkout: 'Hubo un problema guardando tu entrenamiento.',
    sessionNotFound: 'Sesión no encontrada',
    sessionNotFoundDescription: 'La sesión de entrenamiento no pudo ser encontrada.',
    failedToLoadSession: 'Error al cargar la sesión de entrenamiento.',
    addSet: 'Agregar Set',
    removeSet: 'Eliminar Set',
    cantRemoveLastSet: 'No se puede eliminar',
    mustHaveOneSet: 'Debe haber al menos un set por ejercicio.',
    setAdded: 'Set agregado',
    setAddedDescription: 'Se agregó un nuevo set al ejercicio.',
    setRemoved: 'Set eliminado',
    setRemovedDescription: 'El set fue eliminado del ejercicio.',
    failedToAddSet: 'No se pudo agregar el set. Inténtalo de nuevo.',
    failedToRemoveSet: 'No se pudo eliminar el set. Inténtalo de nuevo.',
    failedToUpdateSet: 'Error al actualizar los datos del set.',
    failedToUpdateSetStatus: 'Error al actualizar el estado del set.',
    markAsIncomplete: 'Marcar como incompleto',
    markAsComplete: 'Marcar como completado',
    addNotes: 'Agregar notas',
    viewEditNotes: 'Ver/editar notas',
    notesFor: 'Notas -',
    writeNotesHere: 'Escribe tus notas aquí... (ej: forma, sensaciones, ajustes para la próxima vez)',
    hasNotes: 'Tiene notas',
    watchVideoYoutube: 'Ver video en YouTube',
    freeWorkout: 'Entrenamiento Libre',
    deleteExerciseTitle: 'Eliminar Ejercicio',
    deleteExerciseConfirm: '¿Estás seguro de que quieres eliminar este ejercicio del entrenamiento? Se perderán todos los datos de las series realizadas. Esta acción no se puede deshacer.',
    deleteExerciseButton: 'Eliminar ejercicio',
    cannotDeleteOnlyExercise: 'No se puede eliminar el único ejercicio del entrenamiento. Agrega otro ejercicio primero.',
    exerciseDeletedFromSession: 'Ejercicio eliminado del entrenamiento',
    failedToDeleteExercise: 'No se pudo eliminar el ejercicio. Inténtalo de nuevo.',
    deleteSetTitle: 'Eliminar Set',
    deleteSetConfirm: '¿Estás seguro de que quieres eliminar este set? Esta acción no se puede deshacer.',
    deleteSetButton: 'Eliminar set',
    errorDeleteCurrentSet: 'No se puede eliminar el set actual',
    errorDeleteCompletedSet: 'No se puede eliminar un set completado',
    cannotDeleteOnlySet: 'No se puede eliminar el único set del ejercicio',
    currentSet: 'Set Actual',
    repetitions: 'Repeticiones',
    completing: 'Completando...',
    completeSet: 'Completar Set',
    allSets: 'Todos los Sets',
    addSetButton: 'Agregar Set',
    reps: 'reps',
    total: 'total',
    current: 'Actual',
    pending: 'Pendiente',
    exerciseNotes: 'Notas del Ejercicio',
    addExerciseNotes: 'Agregar notas del ejercicio...',
    progressComplete: 'completado',
    workoutProgress: 'Progreso del entrenamiento',
    pause: 'Pausar',
    resume: 'Reanudar',
    finish: 'Finalizar',
    restTime: 'Tiempo de Descanso',
    addTime: 'Agregar {seconds}s',
    skipRest: 'Saltar Descanso',
    restTimeRemaining: 'Tiempo restante',
    skip: 'Saltar',
    exerciseCompleted: 'Ejercicio completado',
    selectAnotherExerciseOrAddMoreSets: 'Selecciona otro ejercicio o agrega más sets',
    setCompleted: 'Set completado',
    excellentWork: '¡Excelente trabajo!',
    loadingSession: 'Cargando sesión...',
    sessionAlreadyFinished: 'Sesión ya finalizada',
    sessionFinishedOn: 'Sesión finalizada el',
    cannotModifyFinished: 'No se puede modificar una sesión finalizada.',
    viewWorkoutDetails: 'Ver Detalles del Entrenamiento',
    startNewWorkout: 'Iniciar Nuevo Entrenamiento',
    back: 'Volver',
    finishWorkoutConfirm: '¿Estás seguro de que quieres finalizar este entrenamiento?',
    rateWorkout: 'Califica tu entrenamiento',
    sessionNotes: 'Notas de la sesión',
    sessionNotesPlaceholder: 'Escribe tus notas sobre el entrenamiento...',
    cancel: 'Cancelar',
    finalizingWorkout: 'Finalizando...',
    finalizeWorkout: 'Finalizar Entrenamiento',
    sessionSaved: 'Tu sesión de entrenamiento ha sido guardada.',
    startEmptyWorkout: 'Entrenamiento Libre',
    setsCompletedCount: 'series completadas',
    selectExercise: 'Seleccionar',
    currentExercise: 'Actual',
    trainingPausedTitle: 'Entrenamiento pausado',
    trainingPausedMessage: 'Puedes continuar cuando estés listo',
    trainingResumedTitle: 'Entrenamiento reanudado',
    trainingResumedMessage: '¡Sigamos entrenando!',
    exercisesReordered: 'Ejercicios reordenados',
    exercisesReorderedMessage: 'El orden de los ejercicios se ha actualizado',
    exerciseSelected: 'Ejercicio seleccionado',
    exerciseSelectedMessage: 'Ahora puedes continuar con {exerciseName}',
    exerciseAddedTitle: 'Ejercicio agregado',
    exerciseAddedMessage: 'El ejercicio se ha agregado al entrenamiento',
    workoutExercises: 'Ejercicios del entrenamiento',
    addExerciseToWorkout: 'Agregar ejercicio',
    addExerciseDialogTitle: 'Agregar ejercicio',
    addExerciseDialogDescription: 'Busca y selecciona un ejercicio para agregar al entrenamiento actual',
    searchExercisesPlaceholder: 'Buscar ejercicios por nombre, descripción o grupo muscular...',
    noExercisesFoundFor: 'No se encontraron ejercicios que coincidan con "{searchTerm}"',
    allExercisesInWorkout: 'Todos los ejercicios disponibles ya están en tu entrenamiento',
    deletePendingSet: 'Eliminar set pendiente',
    exerciseDefaultName: 'Ejercicio',
    pausedTrainingMessage: 'Haz clic en "Reanudar" para continuar tu entrenamiento',
    exerciseNotFound: 'Ejercicio no encontrado',
    errorReorderingExercises: 'Error al reordenar ejercicios',
    errorSelectingExercise: 'Error al seleccionar ejercicio',
    errorAddingExercise: 'Error al agregar ejercicio',
    errorPausingResuming: 'Error al pausar/reanudar el entrenamiento',
    paused: 'Pausado',
    setOf: 'de',
    target: 'Objetivo:',
    notAvailable: 'N/A',
    cannotDeleteCompletedExercise: 'No se puede eliminar un ejercicio con todos los sets completados',
    exerciseCompletedStatus: 'Ejercicio completado',
    cannotDeleteCurrentExercise: 'No se puede eliminar el ejercicio actual'
  },
  history: {
    title: 'Historial',
    trainingHistory: 'Historial de Entrenamientos',
    errorLoading: 'Error al cargar',
    errorLoadingDescription: 'No se pudieron cargar las sesiones de entrenamiento.',
    sessionCount: 'sesión',
    workoutsCount: 'entrenamientos',
    filters: 'Filtros',
    clearFilters: 'Limpiar Filtros',
    year: 'Año',
    month: 'Mes',
    day: 'Día',
    allYears: 'Todos los años',
    allMonths: 'Todos los meses',
    allDays: 'Todos los días',
    completedSessions: 'Completados',
    setsPerformed: 'Sets realizados',
    totalTime: 'Tiempo total',
    noSessions: 'No hay entrenamientos aún',
    noSessionsDescription: 'Comienza tu primer entrenamiento para ver tu historial aquí.',
    noFilteredSessions: 'No hay entrenamientos para estos filtros',
    noFilteredSessionsDescription: 'Intenta ajustar los filtros para ver más resultados.',
    startedAgo: 'Iniciado hace',
    sessionNotFound: 'Sesión no encontrada',
    sessionNotFoundPage: 'La sesión de entrenamiento no pudo ser encontrada.',
    failedToLoadSession: 'Error al cargar detalles de la sesión.',
    workoutDetails: 'Detalles del Entrenamiento',
    trainingSession: 'Sesión de Entrenamiento',
    date: 'Fecha',
    detail: {
      title: 'Detalles del Entrenamiento',
      back: 'Volver',
      loading: 'Cargando detalles de la sesión...',
      notFound: 'Sesión no encontrada',
      workoutNotCompleted: 'Entrenamiento no finalizado',
      workoutInProgress: 'Este entrenamiento aún está en progreso y no se ha completado.',
      whatCanYouDo: '¿Qué puedes hacer?',
      continueWorkout: 'Continúa tu entrenamiento para ver los detalles completos',
      finishSession: 'Finaliza la sesión para que aparezca en tu historial',
      incompleteWorkouts: 'Los entrenamientos incompletos no muestran estadísticas finales',
      continueTraining: 'Continuar Entrenamiento',
      backToHistory: 'Volver al Historial',
      basicInfo: 'Información Básica',
      inProgress: 'En progreso',
      exercises: 'Ejercicios',
      setsCompleted: 'Sets completados',
      started: 'Iniciado',
      completed: 'Completado',
      intensity: 'Intensidad',
      high: 'Alta',
      medium: 'Media',
      low: 'Baja',
      sessionSummary: 'Resumen de la Sesión',
      duration: 'Duración',
      totalReps: 'Reps totales',
      totalVolume: 'Volumen total',
      sessionProgress: 'Progreso de la sesión',
      setsCompletedOf: '{completed} de {total} sets',
      setsCompletedPercentage: '{percentage}% de sets completados',
      schedule: 'Horario:',
      averageWeight: 'Peso promedio:',
      achievements: 'Logros',
      caloriesBurned: 'Calorías quemadas',
      personalRecords: 'Records personales',
      muscleGroups: 'Grupos Musculares',
      muscleGroupsEmpty: 'No hay información de grupos musculares',
      rating: 'Calificación',
      stars: '{rating}/5 estrellas',
      notes: 'Notas:',
      exercisesPerformed: 'Ejercicios Realizados ({count})',
      exercise: 'Ejercicio {number}',
      sets: 'sets',
      completedPercentage: '{percentage}% completado',
      exerciseStats: 'Estadísticas del ejercicio',
      totalRepsExercise: 'Reps totales',
      maxWeight: 'Peso máximo',
      volumeTotal: 'Volumen total',
      excellentWorkout: '¡Excelente entrenamiento!',
      repeatOrExplore: '¿Quieres repetir esta rutina o explorar nuevos entrenamientos?',
      viewOriginalRoutine: 'Ver Rutina Original',
      trainAgain: 'Entrenar de Nuevo',
      edit: 'Editar',
      share: 'Compartir',
      export: 'Exportar',
      sessionLoadError: 'No se pudo cargar los detalles de la sesión.'
    }
  },
  setup: {
    initialSetup: 'Configuración Inicial',
    exerciseLibrary: 'Biblioteca de Ejercicios',
    exerciseLibraryDescription: 'Para poder crear rutinas, necesitas tener ejercicios disponibles. Puedes crear ejercicios de ejemplo o agregar los tuyos propios.',
    existingExercisesInfo: 'Ya tienes {count} ejercicio(s) en tu biblioteca.',
    createExampleExercisesDescription: 'Haz clic en el botón para crear 10 ejercicios de ejemplo populares.',
    creatingExercises: 'Creando ejercicios...',
    createExampleExercises: 'Crear Ejercicios de Ejemplo',
    orCreateOwn: 'O puedes ir directamente a',
    createOwnExercises: 'crear tus propios ejercicios',
    exercisesCreated: '¡Ejercicios creados exitosamente!',
    exercisesCreatedDescription: 'Se crearon {count} nuevos ejercicios en tu biblioteca.',
    exercisesAlreadyExist: 'Ejercicios ya existentes',
    exercisesAlreadyExistDescription: 'Ya tienes todos los ejercicios de ejemplo en tu biblioteca.',
    errorCreatingExercises: 'Hubo un problema creando los ejercicios.',
    exercisesCreatedSuccess: '¡{count} ejercicios creados!',
    exercisesAlreadyAvailable: '¡Ejercicios ya disponibles!',
    canStartCreatingRoutines: 'Ya puedes empezar a crear rutinas con los ejercicios disponibles.',
    exercisesAvailableForRoutines: 'Ya tienes ejercicios disponibles para crear rutinas.',
    redirectingToRoutines: 'Serás redirigido a rutinas en 3 segundos...',
    goToRoutines: 'Ir a Rutinas',
    viewExercises: 'Ver Ejercicios',
    backToHome: 'Volver al inicio'
  },
  months: {
    january: 'Enero',
    february: 'Febrero',
    march: 'Marzo',
    april: 'Abril',
    may: 'Mayo',
    june: 'Junio',
    july: 'Julio',
    august: 'Agosto',
    september: 'Septiembre',
    october: 'Octubre',
    november: 'Noviembre',
    december: 'Diciembre'
  },
  days: {
    monday: 'lunes',
    tuesday: 'martes',
    wednesday: 'miércoles',
    thursday: 'jueves',
    friday: 'viernes',
    saturday: 'sábado',
    sunday: 'domingo'
  },
  profile: {
    title: 'Mi Perfil',
    subtitle: 'Administra tu información personal y preferencias',
    personalInfo: {
      title: 'Información Personal',
      name: 'Nombre',
      age: 'Edad',
      weight: 'Peso',
      height: 'Altura',
      fitnessLevel: 'Nivel de Fitness',
      units: 'Unidades',
      memberSince: 'Miembro desde',
      beginner: 'Principiante',
      intermediate: 'Intermedio',
      advanced: 'Avanzado',
      professional: 'Profesional',
      metric: 'Métrico (kg, cm)',
      imperial: 'Imperial (lbs, ft)'
    },
    privacy: {
      title: 'Configuración de Privacidad',
      description: 'Controla quién puede ver tu perfil y estadísticas',
      publicProfile: 'Perfil Público',
      publicProfileDescription: 'Permite que otros vean tu perfil, logros y estadísticas',
      yourPublicProfile: 'Tu perfil público',
      anyoneCanView: 'Cualquier persona con este enlace puede ver tu perfil',
      share: 'Compartir',
      yourProfileIsPrivate: 'Tu perfil es privado',
      profileIsPrivateDescription: 'Tu perfil es privado y no puede ser visto por otros',
      privateProfileNotice: 'Tu perfil es privado',
      privateProfileDescription: 'Solo tú puedes ver esta página. Para que otros puedan verla, activa la opción "Perfil Público" en la configuración.',
      configure: 'Configurar'
    },
    public: {
      title: 'Perfil Público',
      myProfile: 'Mi Perfil',
      publicProfile: 'Perfil Público',
      myProfileView: 'Vista de tu perfil público',
      profileOf: 'Perfil de {name}',
      memberSince: 'Miembro desde {date}',
      profilePrivate: 'Perfil Privado',
      profileNotFound: 'Perfil No Encontrado',
      profilePrivateDescription: 'Este usuario ha configurado su perfil como privado. Solo pueden verlo cuando están logueados en su cuenta.',
      profileNotFoundDescription: 'El perfil que buscas no existe o no está disponible públicamente.',
      backToHome: 'Volver al Inicio',
      signIn: 'Iniciar Sesión',
      signUp: 'Registrarse',
      registerFree: 'Registrarse Gratis',
      noAccount: '¿No tienes cuenta?',
      noAccountDescription: 'Crea tu perfil en DallaTrack para registrar entrenamientos, desbloquear logros y compartir tu progreso.',
      publicStats: 'Estadísticas Públicas',
      workouts: 'Entrenamientos',
      totalTime: 'Tiempo total',
      currentStreak: 'Racha actual',
      longestStreak: 'Mejor racha',
      weightMoved: 'Peso movido',
      setsCompleted: 'Sets completados',
      nextAchievements: 'Próximos Logros',
      achievementsInProgress: 'Logros en progreso',
      likeWhatYouSee: '¿Te gusta lo que ves?',
      joinDallaTrack: 'Únete a DallaTrack para crear tu propio perfil, registrar entrenamientos y desbloquear logros.',
      editProfile: 'Editar Perfil'
    },
    preferences: {
      title: 'Preferencias',
      notifications: 'Notificaciones',
      workoutReminders: 'Recordatorios de entrenamiento',
      progressUpdates: 'Actualizaciones de progreso',
      achievements: 'Logros',
      privacy: 'Privacidad',
      shareProgress: 'Compartir progreso',
      publicProfile: 'Perfil público'
    },
    stats: {
      title: 'Estadísticas',
      totalWorkouts: 'Entrenamientos',
      totalTime: 'Tiempo total',
      currentStreak: 'Racha actual',
      longestStreak: 'Mejor racha',
      achievements: 'Logros',
      noAchievements: 'Completa entrenamientos para desbloquear logros'
    },
    achievements: {
      title: 'Logros Desbloqueados',
      subtitle: 'Tus logros y metas alcanzadas',
      unlockedAchievements: 'Logros desbloqueados ({unlocked} de {total})',
      noAchievementsYet: 'Aún no hay logros desbloqueados',
      noCategoryAchievements: 'No hay logros desbloqueados en esta categoría aún.',
      all: 'Todos ({count})',
      categories: {
        workouts: 'Entrenamientos',
        strength: 'Fuerza',
        consistency: 'Consistencia',
        milestones: 'Hitos',
        special: 'Especiales',
        weekly: 'Semanales',
        monthly: 'Mensuales'
      },
      list: {
        firstWorkout: 'Primer Entrenamiento',
        firstWorkoutDesc: 'Completaste tu primer entrenamiento',
        workouts5: '5 Entrenamientos',
        workouts5Desc: 'Completaste 5 entrenamientos',
        workouts10: '10 Entrenamientos',
        workouts10Desc: 'Completaste 10 entrenamientos',
        workouts25: '25 Entrenamientos',
        workouts25Desc: 'Completaste 25 entrenamientos',
        workouts50: '50 Entrenamientos',
        workouts50Desc: 'Completaste 50 entrenamientos',
        workouts100: '100 Entrenamientos',
        workouts100Desc: '¡Increíble! 100 entrenamientos completados',
        workouts200: '200 Entrenamientos',
        workouts200Desc: '¡Imparable! 200 entrenamientos completados',
        workouts365: '365 Entrenamientos',
        workouts365Desc: '¡Un entrenamiento cada día del año!',
        workouts500: '500 Entrenamientos',
        workouts500Desc: '¡Leyenda del fitness! 500 entrenamientos',
        workouts1000: '1000 Entrenamientos',
        workouts1000Desc: '¡Maestro absoluto! 1000 entrenamientos',
        streak3: 'Racha de 3 días',
        streak3Desc: 'Entrenaste 3 días consecutivos',
        streak7: 'Racha de 7 días',
        streak7Desc: 'Entrenaste 7 días consecutivos',
        streak14: 'Racha de 14 días',
        streak14Desc: 'Entrenaste 14 días consecutivos',
        streak30: 'Racha de 30 días',
        streak30Desc: '¡Un mes completo entrenando!',
        streak60: 'Racha de 60 días',
        streak60Desc: '¡Dos meses de dedicación total!',
        streak100: 'Racha de 100 días',
        streak100Desc: '¡Consistencia legendaria! 100 días seguidos',
        streak365: 'Racha de 365 días',
        streak365Desc: '¡Un año completo sin faltar! Eres invencible',
        totalWeight500: '500kg Movidos',
        totalWeight500Desc: 'Moviste un total de 500kg',
        totalWeight1000: '1000kg Movidos',
        totalWeight1000Desc: 'Moviste un total de 1000kg',
        totalWeight5000: '5000kg Movidos',
        totalWeight5000Desc: 'Moviste un total de 5000kg',
        totalWeight10000: '10000kg Movidos',
        totalWeight10000Desc: '¡Increíble fuerza! 10,000kg movidos',
        totalWeight25000: '25000kg Movidos',
        totalWeight25000Desc: '¡Fuerza de elefante! 25,000kg movidos',
        totalWeight50000: '50000kg Movidos',
        totalWeight50000Desc: '¡Fuerza de montaña! 50,000kg movidos',
        totalWeight100000: '100000kg Movidos',
        totalWeight100000Desc: '¡Fuerza planetaria! 100,000kg movidos',
        totalTime5: '5 Horas de Entrenamiento',
        totalTime5Desc: 'Acumulaste 5 horas de entrenamiento',
        totalTime10: '10 Horas de Entrenamiento',
        totalTime10Desc: 'Acumulaste 10 horas de entrenamiento',
        totalTime25: '25 Horas de Entrenamiento',
        totalTime25Desc: 'Acumulaste 25 horas de entrenamiento',
        totalTime50: '50 Horas de Entrenamiento',
        totalTime50Desc: '¡Dedicación total! 50 horas entrenando',
        totalTime100: '100 Horas de Entrenamiento',
        totalTime100Desc: '¡Centurión del fitness! 100 horas completadas',
        totalTime200: '200 Horas de Entrenamiento',
        totalTime200Desc: '¡Maestro del tiempo! 200 horas de dedicación',
        totalTime500: '500 Horas de Entrenamiento',
        totalTime500Desc: '¡Leyenda temporal! 500 horas de puro entrenamiento',
        sets100: '100 Sets Completados',
        sets100Desc: 'Completaste 100 sets de entrenamiento',
        sets500: '500 Sets Completados',
        sets500Desc: 'Completaste 500 sets de entrenamiento',
        sets1000: '1000 Sets Completados',
        sets1000Desc: '¡Mil sets! Tu perseverancia es admirable',
        sets2500: '2500 Sets Completados',
        sets2500Desc: '¡Maestro de la repetición! 2500 sets completados',
        sets5000: '5000 Sets Completados',
        sets5000Desc: '¡Artista del entrenamiento! 5000 sets dominados',
        weeklyWarrior: 'Guerrero Semanal',
        weeklyWarriorDesc: 'Entrenaste 3 veces en una semana',
        dailyDedication: 'Dedicación Diaria',
        dailyDedicationDesc: 'Entrenaste todos los días de la semana',
        monthlyMaster: 'Maestro Mensual',
        monthlyMasterDesc: 'Entrenaste 12 veces en un mes',
        sevenDayStreak: 'Racha de 7 Días',
        sevenDayStreakDesc: 'Entrenaste 7 días consecutivos'
      },
      progress: {
        title: 'Progreso hacia Logros',
        nextAchievement: 'Próximo Logro',
        completed: 'completado'
      }
    },
    update: {
      save: 'Guardar Cambios',
      saving: 'Guardando...',
      success: 'Perfil actualizado correctamente',
      error: 'Error al actualizar el perfil'
    },
    load: {
      error: 'No se pudo cargar el perfil',
      retry: 'Reintentar'
    }
  },
  ai: {
    title: 'Asistente IA',
    subtitle: 'Tu entrenador personal inteligente',
    newConversation: 'Nueva Conversación',
    conversations: 'Conversaciones',
    messages: 'mensajes',
    messageInputPlaceholder: 'Escribe tu mensaje aquí...',
    welcomeTitle: 'Bienvenido al Asistente IA',
    welcomeDescription: 'Tu entrenador personal inteligente está aquí para ayudarte. Inicia una conversación para recibir consejos personalizados.',
    startChat: 'Iniciar Chat',
    thinking: 'Pensando...',
    errorSendingMessage: 'Error al enviar mensaje',
    errorCreatingConversation: 'Error al crear conversación',
    errorSavingConversation: 'Error al guardar conversación',
    errorDeletingConversation: 'Error al eliminar conversación',
    errorLoadingConversations: 'Error al cargar conversaciones',
    conversationCreated: 'Conversación creada',
    conversationDeleted: 'Conversación eliminada',
    deleteConversationConfirm: '¿Estás seguro de que quieres eliminar esta conversación?',
    noConversationsYet: 'No hay conversaciones aún',
    loadingChats: 'Cargando chats...',
    aiFunctions: 'Funciones IA',
    routineGeneratorTitle: 'Generador de Rutinas',
    routineGeneratorDescription: 'Crea rutinas personalizadas',
    routineGeneratorPrompt: 'Ayúdame a crear una rutina de entrenamiento personalizada basada en mis objetivos y nivel de experiencia.',
    progressAnalyzerTitle: 'Análisis de Progreso',
    progressAnalyzerDescription: 'Analiza tu evolución',
    progressAnalyzerPrompt: 'Analiza mi progreso de entrenamiento y dame recomendaciones para mejorar mis resultados.',
    exerciseFormTitle: 'Técnica de Ejercicios',
    exerciseFormDescription: 'Mejora tu técnica',
    exerciseFormPrompt: 'Explícame la técnica correcta y los errores comunes en los ejercicios de mi rutina.',
    nutritionGuideTitle: 'Guía Nutricional',
    nutritionGuideDescription: 'Consejos de nutrición',
    nutritionGuidePrompt: 'Dame consejos nutricionales que complementen mi entrenamiento y me ayuden a alcanzar mis objetivos.',
    personalAssistant: 'Tu asistente personal de fitness con IA',
    historyOfConversations: 'Historial de Conversaciones',
    conversationCount: 'conversación',
    aiToolsSpecialized: 'Herramientas IA Especializadas',
    powerUpTraining: 'Potencia tu entrenamiento con IA',
    fitnessTraining: 'IA • Fitness & Entrenamiento',
    deleteConversation: 'Eliminar Conversación',
    deleteConversationDescription: '¿Estás seguro de que quieres eliminar esta conversación? Esta acción no se puede deshacer.',
    cancel: 'Cancelar',
    delete: 'Eliminar',
    welcomeAITitle: '¡Bienvenido a DallaTrack IA!',
    welcomeAIDescription: 'Tu asistente personal especializado en fitness y entrenamiento. Comienza una conversación o explora nuestras herramientas.',
    startConversation: 'Iniciar Conversación',
    orUseSpecializedTools: 'O utiliza las herramientas especializadas de arriba',
    activeMessages: 'Mensajes activos',
    aiTools: 'Herramientas IA',
    routineGeneratorCard: 'Generador de Rutinas',
    routineGeneratorCardDesc: 'Crea rutinas personalizadas para tus objetivos',
    formAnalysisCard: 'Análisis de Forma',
    formAnalysisCardDesc: 'Mejora tu técnica y prevén lesiones',
    startFirstConversation: 'Comienza tu primera conversación'
  },
  routineGenerator: {
    title: 'Generador de Rutinas IA',
    subtitle: 'Crea rutinas personalizadas con inteligencia artificial',
    step: 'Paso',
    of: 'de',
    completed: 'completado',
    objectivesAndExperience: 'Objetivos y Experiencia',
    objectivesDescription: 'Cuéntanos sobre tus objetivos y nivel de experiencia',
    mainObjective: '¿Cuál es tu objetivo principal? *',
    selectObjective: 'Selecciona tu objetivo',
    experienceLevel: '¿Cuál es tu nivel de experiencia? *',
    selectLevel: 'Selecciona tu nivel',
    beginner: 'Principiante (0-6 meses)',
    intermediate: 'Intermedio (6 meses - 2 años)',
    advanced: 'Avanzado (2+ años)',
    timeAvailable: '¿Cuánto tiempo tienes disponible por sesión? *',
    selectDuration: 'Selecciona duración',
    minutes: 'minutos',
    hours: 'horas',
    availableEquipment: 'Equipamiento Disponible',
    equipmentDescription: 'Selecciona todo el equipamiento que tienes disponible *',
    selectedEquipment: 'Equipamiento seleccionado:',
    muscleGroups: 'Grupos Musculares',
    muscleGroupsDescription: '¿En qué grupos musculares quieres enfocarte? *',
    selectedMuscleGroups: 'Grupos musculares seleccionados:',
    limitationsAndPreferences: 'Limitaciones y Preferencias',
    limitationsDescription: 'Ayúdanos a personalizar aún más tu rutina (opcional)',
    physicalLimitations: 'Limitaciones físicas o lesiones',
    limitationsPlaceholder: 'Ej: Dolor de rodilla, problemas de espalda, etc.',
    limitationsHelp: 'Esto nos ayudará a evitar ejercicios que puedan causar molestias',
    additionalPreferences: 'Preferencias adicionales',
    preferencesPlaceholder: 'Ej: Prefiero ejercicios funcionales, no me gustan las máquinas, etc.',
    preferencesHelp: 'Cualquier preferencia específica que quieras que consideremos',
    routineSummary: 'Resumen de tu rutina personalizada:',
    objective: 'Objetivo:',
    experience: 'Experiencia:',
    duration: 'Duración:',
    equipment: 'Equipamiento:',
    muscleGroupsLabel: 'Grupos musculares:',
    elements: 'elementos',
    generated: 'Rutina generada',
    saveRoutine: 'Guardar Rutina',
    saved: 'Guardada',
    startTraining: 'Comenzar Entrenamiento',
    warmup: 'Calentamiento',
    mainExercises: 'Ejercicios Principales',
    sets: 'Sets:',
    reps: 'Reps:',
    rest: 'Descanso:',
    notes: 'Notas:',
    cooldown: 'Enfriamiento',
    importantTips: 'Consejos Importantes',
    generatingRoutine: 'Generando tu rutina personalizada...',
    generatingDescription: 'La IA está analizando tus preferencias y creando la rutina perfecta para ti',
    previous: 'Anterior',
    next: 'Siguiente',
    generateRoutine: 'Generar Rutina',
    generateNewRoutine: 'Generar Nueva Rutina',
    completeRequiredFields: 'Por favor completa todos los campos obligatorios',
    beginnerLevel: 'Principiante',
    intermediateLevel: 'Intermedio',
    advancedLevel: 'Avanzado',
    weightLoss: 'Pérdida de peso',
    muscleGain: 'Ganancia muscular',
    generalStrength: 'Fuerza general',
    endurance: 'Resistencia',
    toning: 'Tonificación',
    rehabilitation: 'Rehabilitación',
    sportsPerformance: 'Rendimiento deportivo',
    maintenance: 'Mantenimiento',
    dumbbells: 'Mancuernas',
    barbell: 'Barra olímpica',
    gymMachines: 'Máquinas de gimnasio',
    resistanceBands: 'Bandas elásticas',
    bodyweight: 'Peso corporal',
    kettlebells: 'Kettlebells',
    cables: 'Poleas',
    bench: 'Banco',
    squat_rack: 'Rack de sentadillas',
    parallelBars: 'Barras paralelas',
    chest: 'Pecho',
    back: 'Espalda',
    shoulders: 'Hombros',
    biceps: 'Bíceps',
    triceps: 'Tríceps',
    legs: 'Piernas',
    glutes: 'Glúteos',
    abs: 'Abdominales',
    calves: 'Pantorrillas',
    forearms: 'Antebrazos'
  },
  formAnalysis: {
    title: 'Análisis de Forma IA',
    subtitle: 'Usa tu cámara para analizar la técnica de tus ejercicios en tiempo real',
    cameraAnalysis: 'Cámara de Análisis',
    cameraError: 'Error de cámara:',
    cameraReady: 'Cámara lista para usar',
    camera: 'Cámara:',
    selectCamera: 'Selecciona una cámara',
    exerciseToAnalyze: 'Ejercicio a analizar:',
    selectExercise: 'Selecciona un ejercicio',
    activateCamera: 'Activar Cámara',
    searchingCameras: 'Buscando cámaras...',
    video: 'Video',
    startAnalysis: 'Iniciar Análisis',
    stopAndAnalyze: 'Detener y Analizar',
    analyzing: 'Analizando',
    posesDetected: 'poses detectadas',
    error: 'Error:',
    realtimeFeedback: 'Feedback en Tiempo Real',
    completeAnalysis: 'Análisis Completo',
    export: 'Exportar',
    share: 'Compartir',
    techniqueScore: 'Puntuación de Técnica',
    repetitionsDetected: 'repeticiones detectadas',
    keyPointsAnalysis: 'Análisis de Puntos Clave',
    recommendations: 'Recomendaciones',
    detectedErrors: 'Errores Detectados',
    analysisImprovement: 'Consejos para un mejor análisis',
    selectExerciseFirst: 'Selecciona un ejercicio y activa la cámara',
    analysisWillStart: 'El análisis comenzará automáticamente',
    excellent: 'excelente',
    good: 'bueno',
    warning: 'advertencia',
    needsImprovement: 'necesita_mejora',
    dangerous: 'peligroso',
    correct: 'correcto',
    incorrect: 'incorrecto',
    squat: 'Sentadilla',
    benchPress: 'Press de Banca',
    deadlift: 'Peso Muerto',
    militaryPress: 'Press Militar',
    pullups: 'Dominadas',
    pushups: 'Flexiones',
    excellentForm: '¡Excelente {exercise}!',
    goodTechnique: 'Buena técnica de {exercise}',
    improveForm: '{exercise} detectada, mejora la forma',
    invalidPose: 'Pose no válida para {exercise}. Ajusta tu posición.',
    usingLibrary: 'Usando html5-qrcode:',
    ultraCompatible: '• Ultra compatible: Funciona en todos los navegadores',
    robust: '• Robusto: Maneja automáticamente compatibilidad',
    multipleCameras: '• Múltiples cámaras: Detecta y permite elegir',
    noComplexPermissions: '• Sin permisos complejos: Manejo automático',
    mobileDevices: 'Para dispositivos móviles:',
    worksAnyBrowser: '• Funciona en cualquier navegador móvil',
    allowsAccess: '• Permite acceso cuando se solicite',
    autoDetectCameras: '• Detecta automáticamente cámaras disponibles',
    optimizedMobile: '• Optimizado para móviles',
    features: 'Características:',
    autoDetection: '• Detección automática de cámaras',
    cameraSelector: '• Selector de cámara si hay múltiples',
    videoUploadAlternative: '• Alternativa de carga de video',
    clearIndicators: '• Indicadores de estado claros',
    loadVideoFromFile: 'Cargar video desde archivo',
    loadVideoDescription: 'Si tu cámara no funciona, puedes cargar un video grabado previamente',
    selectVideo: 'Seleccionar Video',
    activateCameraToStart: 'Activa la cámara para comenzar',
    test: 'Test'
  },
  marketing: {
    hero: {
      badge: 'Nuevo en DallaTrack',
      title: 'Transforma tu',
      titleHighlight: 'Entrenamiento',
      subtitle: 'La plataforma definitiva para llevar tu fitness al siguiente nivel. Crea rutinas, rastrea progreso y alcanza tus objetivos.',
      startFree: 'Comenzar Gratis',
      signIn: 'Iniciar Sesión',
      freeForever: 'Gratis por siempre',
      noCreditCard: 'Sin tarjeta de crédito',
      secureData: 'Datos seguros'
    },
    features: {
      title: 'Todo lo que necesitas para entrenar',
      subtitle: 'Herramientas profesionales diseñadas para hacer tu entrenamiento más efectivo',
      customRoutines: 'Rutinas Personalizadas',
      customRoutinesDesc: 'Crea y personaliza rutinas de entrenamiento adaptadas a tus objetivos',
      progressTracking: 'Seguimiento de Progreso',
      progressTrackingDesc: 'Monitorea tu evolución con estadísticas detalladas y gráficos',
      smartGoals: 'Objetivos Inteligentes',
      smartGoalsDesc: 'Establece metas alcanzables y recibe recomendaciones personalizadas',
      timer: 'Cronómetro Integrado',
      timerDesc: 'Controla tus tiempos de descanso y duración de entrenamientos',
      analytics: 'Análisis de Rendimiento',
      analyticsDesc: 'Obtén insights sobre tu rendimiento y áreas de mejora',
      mobile: 'Acceso Móvil',
      mobileDesc: 'Entrena desde cualquier lugar con nuestra app responsive'
    },
    stats: {
      title: 'DallaTrack en Números',
      subtitle: 'La comunidad de fitness más activa',
      activeUsers: 'Usuarios Activos',
      completedWorkouts: 'Entrenamientos Completados',
      exercisesLogged: 'Ejercicios Registrados',
      routinesCreated: 'Rutinas Creadas',
      exercisesAvailable: 'Ejercicios Disponibles',
      totalTrainingTime: 'Tiempo Total de Entrenamiento'
    },
    testimonials: {
      title: 'Lo que dicen nuestros usuarios',
      subtitle: 'Miles de personas ya han transformado su entrenamiento con DallaTrack'
    },
    cta: {
      title: '¿Listo para transformar tu entrenamiento?',
      subtitle: 'Únete a miles de personas que ya están alcanzando sus objetivos con DallaTrack',
      startToday: 'Comenzar Hoy',
      learnMore: 'Saber Más'
    }
  }
}

export function LanguageProvider({ children }: LanguageProviderProps) {
  const [language, setLanguageState] = useState<Language>('es')
  const [translations, setTranslations] = useState<Translations | null>(null)
  const [isLoading, setIsLoading] = useState(true)

  const loadLanguageTranslations = useCallback(async (lang: Language) => {
    setIsLoading(true)
    try {
      const t = await loadTranslations(lang)
      setTranslations(t)
    } catch (error) {
      console.error('Error loading translations:', error)
      setTranslations(FALLBACK_TRANSLATIONS)
    } finally {
      setIsLoading(false)
    }
  }, [])

  useEffect(() => {
    const savedLanguage = localStorage.getItem('language') as Language
    const initialLanguage = (savedLanguage && (savedLanguage === 'es' || savedLanguage === 'en')) 
      ? savedLanguage 
      : 'es'
    
    setLanguageState(initialLanguage)
    loadLanguageTranslations(initialLanguage)
  }, [loadLanguageTranslations])

  const setLanguage = useCallback(async (newLanguage: Language) => {
    if (newLanguage === language) return
    
    setLanguageState(newLanguage)
    localStorage.setItem('language', newLanguage)
    await loadLanguageTranslations(newLanguage)
  }, [language, loadLanguageTranslations])

  const value = useMemo<LanguageContextType>(() => ({
    language,
    setLanguage,
    t: translations,
    isLoading
  }), [language, setLanguage, translations, isLoading])

  return (
    <LanguageContext.Provider value={value}>
      {children}
    </LanguageContext.Provider>
  )
}

export function useLanguage() {
  const context = useContext(LanguageContext)
  if (context === undefined) {
    throw new Error('useLanguage must be used within a LanguageProvider')
  }
  return context
}

export function useTranslations() {
  const { t, isLoading } = useLanguage()
  
  return useMemo(() => {
    if (isLoading || !t) {
      return FALLBACK_TRANSLATIONS
    }
    return t
  }, [t, isLoading])
} 